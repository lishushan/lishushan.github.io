<!DOCTYPE html><html><head><title>CentOS7安装与配置Nginx</title><meta charset='utf-8'><link href='https://dn-maxiang.qbox.me/res-min/themes/marxico.css' rel='stylesheet'><style>
.note-content  {font-family: "Helvetica Neue", Arial, "Hiragino Sans GB", STHeiti, "Microsoft YaHei", "WenQuanYi Micro Hei", SimSun, Song, sans-serif;}

</style></head><body><div id='preview-contents' class='note-content'>
                        
                    



<h1 id="centos7安装与配置nginx">CentOS7安装与配置Nginx</h1>



<h1 id="自动化脚本">自动化脚本</h1>

<ul><li>install-and-setup-nginx.sh</li>
</ul>

<pre class="prettyprint hljs-dark"><code class="language-bash hljs"><div class="hljs-line"><span class="hljs-meta">#!/bin/bash
</span></div><div class="hljs-line">
</div><div class="hljs-line"><span class="hljs-comment"># /etc/profile.d目录</span>
</div><div class="hljs-line">ETC_PROFILE_D=<span class="hljs-string">'/etc/profile.d'</span>
</div><div class="hljs-line"><span class="hljs-built_in">echo</span> <span class="hljs-string">"ETC_PROFILE_D=<span class="hljs-variable">$ETC_PROFILE_D</span>"</span>
</div><div class="hljs-line">
</div><div class="hljs-line"><span class="hljs-comment"># nginx.sh文件路径</span>
</div><div class="hljs-line">NGINX_ENV_FILE=<span class="hljs-string">"<span class="hljs-variable">$ETC_PROFILE_D</span>/nginx.sh"</span>
</div><div class="hljs-line"><span class="hljs-built_in">echo</span> <span class="hljs-string">"NGINX_ENV_FILE=<span class="hljs-variable">$NGINX_ENV_FILE</span>"</span>
</div><div class="hljs-line">
</div><div class="hljs-line"><span class="hljs-comment"># 创建nginx环境变量文件</span>
</div><div class="hljs-line"><span class="hljs-keyword">function</span> <span class="hljs-function"><span class="hljs-title">createNginxEnv</span></span>() {
</div><div class="hljs-line">        <span class="hljs-built_in">echo</span> <span class="hljs-string">"创建nginx环境变量文件：<span class="hljs-variable">$1</span>"</span>
</div><div class="hljs-line">        rm -rf <span class="hljs-variable">$1</span>
</div><div class="hljs-line">        touch <span class="hljs-variable">$1</span>
</div><div class="hljs-line">        <span class="hljs-built_in">echo</span> <span class="hljs-string">'#!/bin/bash'</span> &gt; <span class="hljs-variable">$1</span>
</div><div class="hljs-line">        <span class="hljs-built_in">echo</span> <span class="hljs-string">''</span> &gt;&gt; <span class="hljs-variable">$1</span>
</div><div class="hljs-line">        <span class="hljs-built_in">echo</span> <span class="hljs-string">'# nginx'</span> &gt;&gt; <span class="hljs-variable">$1</span>
</div><div class="hljs-line">        <span class="hljs-built_in">echo</span> <span class="hljs-string">''</span> &gt;&gt; <span class="hljs-variable">$1</span>
</div><div class="hljs-line">        <span class="hljs-built_in">echo</span> <span class="hljs-string">'export NGINX_HOME=/usr/local/nginx'</span> &gt;&gt; <span class="hljs-variable">$1</span>
</div><div class="hljs-line">        <span class="hljs-built_in">echo</span> <span class="hljs-string">'export PATH=$PATH:$NGINX_HOME/sbin'</span> &gt;&gt; <span class="hljs-variable">$1</span>
</div><div class="hljs-line">        <span class="hljs-built_in">echo</span> <span class="hljs-string">''</span> &gt;&gt; <span class="hljs-variable">$1</span>
</div><div class="hljs-line">}
</div><div class="hljs-line">
</div><div class="hljs-line"><span class="hljs-comment"># 执行脚本</span>
</div><div class="hljs-line">createNginxEnv <span class="hljs-variable">$NGINX_ENV_FILE</span>
</div><div class="hljs-line"><span class="hljs-built_in">source</span> <span class="hljs-variable">$NGINX_ENV_FILE</span>
</div></code></pre></div></body></html>